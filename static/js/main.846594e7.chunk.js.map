{"version":3,"sources":["App.js","theme.js","index.js"],"names":["Copyright","Typography","variant","color","align","Link","target","href","Date","toUTCString","BarChart","id","data","width","height","base","baseTemperature","padding","years","map","d","year","yearRange","d3","barWidth","xScale","domain","range","yScale","yAxis","tickFormat","month","date","setUTCMonth","xAxis","useEffect","z","myColor","variance","svg","append","attr","legendSequential","legendColor","shapeWidth","cells","orient","scale","select","call","tip","d3Tip","offset","html","selectAll","enter","style","on","e","str","formatTime","show","this","currentTarget","hide","position","display","alignItems","justifyContent","App","useState","dataset","setDataset","length","fetch","then","response","json","Grid","container","justify","backgroundImage","item","Box","boxShadow","p","backgroundColor","borderRadius","component","gutterBottom","theme","createMuiTheme","palette","primary","main","secondary","error","red","A400","background","default","ReactDOM","render","ThemeProvider","CssBaseline","document","querySelector"],"mappings":"yPAaA,SAASA,IACP,OACE,eAACC,EAAA,EAAD,CAAYC,QAAQ,QAAQC,MAAM,gBAAgBC,MAAM,SAAxD,UACG,kBACD,cAACC,EAAA,EAAD,CAAOC,OAAO,SAASC,KAAK,+BAA5B,2BAEQ,QACP,IAAIC,MAAOC,cACX,OAMP,SAASC,EAAT,GAA6D,IAAzCC,EAAwC,EAAxCA,GAAIC,EAAoC,EAApCA,KAAoC,IAA9BC,aAA8B,MAAtB,KAAsB,MAAhBC,cAAgB,MAAP,IAAO,EACpDC,EAAOH,EAAKI,gBAClBJ,EAAOA,EAAI,gBACX,IAAMK,EAAU,GAGZC,EAAQN,EAAKO,KAAI,SAAAC,GAAC,OAAIA,EAAEC,QACtBC,EAAYC,IAAUL,GACtBM,GAAYX,EAAQI,EAAUA,IAAYK,EAAU,GAAKA,EAAU,IACnEG,EAASF,MACdG,OAAOJ,GACPK,MAAM,CAACV,EAASJ,EAASI,IAGpBW,EAASL,MACZG,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,KAC/BC,MAAM,CAACV,EAASH,EAASG,IAGtBY,EAAQN,IAAYK,GAAQE,YAChC,SAACC,GACC,IAAIC,EAAO,IAAIxB,KAAK,GAEpB,OADAwB,EAAKC,YAAYF,GACVR,IAAc,KAAdA,CAAoBS,MAGzBE,EAAQX,IAAcE,GAAQK,WAAWP,IAAU,MA8FzD,OA3FAY,qBAAU,WACR,IAAMC,EAAIb,IACNc,EAAUd,IAAmBa,GAAGV,OAAOH,IAAUX,GAAO,SAAAQ,GAAC,OAAIA,EAAEkB,aAG7DC,EAAMhB,IACF,IAAMZ,GACb6B,OAAO,OACPC,KAAK,QAAS5B,GACd4B,KAAK,SAAU3B,EAAS,IAG3ByB,EAAIC,OAAO,KACRC,KAAK,KAAO,UACZA,KAAK,QAAS,oBACdA,KAAK,YAHR,oBAGkCxB,EAHlC,YAG6CH,EAASG,EAAU,GAHhE,MAKA,IAAIyB,EAAmBC,cAClBC,WAAW,IACXC,MAAM,IACNC,OAAO,cACPC,MAAMV,GAEXE,EAAIS,OAAO,qBACRC,KAAKP,GAER,IAAIQ,EAAMC,cACPV,KAAK,QAAS,UACdA,KAAK,KAAM,WACXW,OAAO,EAAE,GAAI,IACbC,MAAK,SAASjC,GACb,OAAOA,KAIXmB,EACGe,UAAU,8BACV1C,KAAKA,GACL2C,QACAf,OAAO,QACPC,KAAK,QAAS,QACdA,KAAK,cAAc,SAAArB,GAAC,OAAIA,EAAEW,MAAQ,KAClCU,KAAK,aAAa,SAAArB,GAAC,OAAIA,EAAEC,QACzBoB,KAAK,aAAa,SAAArB,GAAC,OAAIL,EAAOK,EAAEkB,YAChCG,KAAK,QAASjB,GACdiB,KAAK,UAAW3B,EAAS,KAAa,IACtC2B,KAAK,KAAK,SAAArB,GAAC,OAAKK,EAAOL,EAAEC,SACzBoB,KAAK,KAAK,SAAArB,GAAC,OAAIQ,EAAOR,EAAEW,MAAQ,MAChCyB,MAAM,QAAQ,SAAApC,GAAC,OAAIiB,EAAQjB,EAAEkB,aAC7BmB,GAAG,aAAa,SAASC,EAAGtC,GAEzB8B,EAAIT,KAAK,YAAarB,EAAEC,MACxB,IAEIsC,EACA,sBAHapC,IAAc,UAI3BqC,CAHO,IAAIpD,KAAKY,EAAEC,KAAMD,EAAEW,QAE1B,+DAKAR,IAAU,MAAVA,CAAiBR,EAAOK,EAAEkB,UAL1B,8CAUAf,IAAU,OAAVA,CAAkBH,EAAEkB,UAVpB,iBAaJY,EAAIW,KAAKF,EAAKG,MAEdvC,IAAUmC,EAAEK,eAAeP,MAAM,OAAQ,YAE5CC,GAAG,YAAY,SAASC,EAAGtC,GACxBG,IAAUmC,EAAEK,eAAeP,MAAM,OAAQnB,EAAQjB,EAAEkB,WACpDY,EAAIc,KAAKF,SAGdvB,EAAIU,KAAKC,GAETX,EAAIC,OAAO,KACRC,KAAK,YAAa,oBAClBA,KAAK,KAAM,UACXQ,KAAKpB,GACRU,EAAIC,OAAO,KACRC,KAAK,YADR,oBACkC,EADlC,KACwC3B,EAASG,EADjD,MAEGwB,KAAK,KAAM,UACXQ,KAAKf,KAEP,IAGI,qBAAKvB,GAAIA,EAAI6C,MAAO,CAACS,SAAU,WAAYC,QAAS,OAAQC,WAAY,SAAUC,eAAgB,YAI5F,SAASC,IAAO,IAAD,EAEEC,mBAAS,IAFX,mBAErBC,EAFqB,KAEZC,EAFY,KAc5B,OAVArC,qBAAU,WACc,GAAlBoC,EAAQE,QACVC,MAAM,sGACHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAA/D,GACJ4D,EAAW5D,QAGhB,CAAC2D,IAGF,cAACO,EAAA,EAAD,CAAMC,WAAS,EAACZ,WAAa,SAASa,QAAU,SAAUxB,MAAS,CAACyB,gBAAiB,4CAArF,SACE,cAACH,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,eAACC,EAAA,EAAD,CAAMC,UAAW,GAAIC,EAAG,EAAG7B,MAAO,CAAC8B,gBAAiB,SAAUC,aAAc,GAA5E,UACE,cAACtF,EAAA,EAAD,CAAYC,QAAQ,KAAKsF,UAAU,KAAKpF,MAAQ,SAASO,GAAG,QAAQ8E,cAAY,EAAhF,qDAGA,eAACxF,EAAA,EAAD,CAAYC,QAAQ,KAAKsF,UAAU,KAAK7E,GAAG,cAAcP,MAAQ,SAASqF,cAAY,EAAtF,gCACsBlB,EAAQvD,mBAEX,GAAlBuD,EAAQE,QACP,cAAC/D,EAAD,CAAUC,GAAG,WAAWC,KAAM2D,IAEhC,cAACvE,EAAD,W,oBC7JK0F,EAjBDC,YAAe,CAC3BC,QAAS,CACPC,QAAS,CACPC,KAAM,WAERC,UAAW,CACTD,KAAM,WAERE,MAAO,CACLF,KAAMG,IAAIC,MAEZC,WAAY,CACVC,QAAS,WCTfC,IAASC,OACP,eAACC,EAAA,EAAD,CAAeb,MAAOA,EAAtB,UAEE,cAACc,EAAA,EAAD,IACA,cAACnC,EAAD,OAEFoC,SAASC,cAAc,Y","file":"static/js/main.846594e7.chunk.js","sourcesContent":["import React from 'react';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Link from '@material-ui/core/Link';\nimport * as d3 from 'd3';\nimport d3Tip from \"d3-tip\";\nimport { useEffect, useState,useRef } from 'react';\nimport { Grid } from '@material-ui/core';\nimport {legendColor} from 'd3-svg-legend';\nimport Button from '@material-ui/core/Button';\n\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright Â© '}\n      <Link  target=\"_blank\" href=\"https://saharsh-r.github.io/\">\n        Saharsh Rathi\n      </Link>{' at '}\n      {new Date().toUTCString()}\n      {'.'}\n    </Typography>\n  );\n}\n\n\nfunction BarChart({ id, data, width = 1200, height = 500 }) {\n  const base = data.baseTemperature;\n  data = data['monthlyVariance'];\n  const padding = 60;\n \n  \n  var years = data.map(d => d.year);\n  const yearRange = d3.extent(years)\n  const barWidth = (width - padding - padding) / (yearRange[1] - yearRange[0])\n  const xScale = d3.scaleTime()\n  .domain(yearRange)\n  .range([padding, width -  padding])\n  ;\n\n  const yScale = d3.scaleBand()\n    .domain([0,1,2,3,4,5,6,7,8,9,10,11])\n    .range([padding, height - padding ])\n    ;\n\n  const yAxis = d3.axisLeft(yScale).tickFormat(\n    (month) => {\n      var date = new Date(0);\n      date.setUTCMonth(month);\n      return d3.timeFormat(\"%B\")(date);\n    }\n  );\n  const xAxis = d3.axisBottom(xScale).tickFormat(d3.format('d'));\n  \n\n  useEffect(() => {\n    const z = d3.interpolateTurbo\n    var myColor = d3.scaleSequential(z).domain(d3.extent(data , d => d.variance))\n      \n\n    const svg = d3\n      .select('#' + id)\n      .append('svg')\n      .attr('width', width)\n      .attr('height', height + 35 )\n\n\n    svg.append(\"g\")\n      .attr('id' , 'legend')\n      .attr(\"class\", \"legendSequential\")\n      .attr(\"transform\", `translate(${padding},${height - padding + 40})`);\n\n    var legendSequential = legendColor()\n        .shapeWidth(30)\n        .cells(10)\n        .orient(\"horizontal\")\n        .scale(myColor) \n\n    svg.select(\".legendSequential\")\n      .call(legendSequential);\n\n    var tip = d3Tip()\n      .attr('class', 'd3-tip')\n      .attr('id', 'tooltip')\n      .offset([-10, 0])\n      .html(function(d) {\n        return d;\n      });\n\n\n    svg\n      .selectAll(\"whydoesthisnotworkwhenrect\")\n      .data(data)\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"cell\")\n      .attr('data-month', d => d.month - 1)\n      .attr('data-year', d => d.year)\n      .attr('data-temp', d => base + d.variance)\n      .attr('width', barWidth)\n      .attr('height', (height - 2 * padding)/12)\n      .attr('x', d =>  xScale(d.year))\n      .attr('y', d => yScale(d.month - 1))\n      .style('fill', d => myColor(d.variance))\n      .on('mouseover', function(e, d) {\n        // has to be in this way. (e, d) => {} will not work.\n          tip.attr('data-year', d.year);\n          var formatTime = d3.timeFormat('%Y - %B')\n          var date = new Date(d.year, d.month);\n          var str =\n              \"<span class='date'>\" +\n              formatTime(date) +\n              '</span>' +\n              '<br />' +\n              \"<span style='color:orange' class='temperature'>\" +\n              d3.format('.1f')(base + d.variance) +\n              '&#8451;' +\n              '</span>' +\n              '<br />' +\n              \"<span class='variance'>\" +\n              d3.format('+.1f')(d.variance) +\n              '&#8451;' +\n              '</span>';\n          tip.show(str, this); \n         \n          d3.select(e.currentTarget).style(\"fill\", \"black\");\n        })\n      .on('mouseout', function(e, d) {\n          d3.select(e.currentTarget).style(\"fill\", myColor(d.variance));\n         tip.hide(this); \n        });\n\n    svg.call(tip);\n\n    svg.append('g')\n      .attr('transform', 'translate('+ padding + ', 0)')\n      .attr('id', 'y-axis')\n      .call(yAxis);\n    svg.append('g')\n      .attr('transform', `translate(${0}, ${height - padding})`)\n      .attr('id', 'x-axis')\n      .call(xAxis);\n\n  }, []);\n  \n\n  return <div id={id} style={{position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n  </div>;\n}\n\nexport default function App() {\n  \n  const [dataset, setDataset] = useState([])\n\n  useEffect(() => {\n    if (dataset.length == 0){\n      fetch(\"https://raw.githubusercontent.com/freeCodeCamp/ProjectReferenceData/master/global-temperature.json\")\n        .then(response => response.json())\n        .then(data => {\n          setDataset(data);\n          })\n    } \n  }, [dataset])\n  \n  return (\n    <Grid container alignItems = 'center' justify = 'center'  style = {{backgroundImage: 'radial-gradient( grey, #414141, #000000)'}}>\n      <Grid item >\n        <Box  boxShadow={24} p={4} style={{backgroundColor: 'white'}} borderRadius={40}>\n          <Typography variant=\"h4\" component=\"h1\" align = 'center' id='title' gutterBottom>\n            Monthly Global Land-Surface Temperature\n          </Typography>\n          <Typography variant=\"h6\" component=\"h2\" id='description' align = 'center' gutterBottom>\n            Base temperature - {dataset.baseTemperature}\n          </Typography>\n          {dataset.length != 0 && \n            <BarChart id=\"barchart\" data={dataset} />\n          }\n          <Copyright />\n        </Box>\n      </Grid>\n    </Grid>\n    \n  );\n}\n","import { red } from '@material-ui/core/colors';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#556cd6',\n    },\n    secondary: {\n      main: '#19857b',\n    },\n    error: {\n      main: red.A400,\n    },\n    background: {\n      default: '#fff',\n    },\n  },\n});\n\nexport default theme;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport App from './App';\nimport theme from './theme';\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n    <CssBaseline />\n    <App />\n  </ThemeProvider>,\n  document.querySelector('#root'),\n);\n"],"sourceRoot":""}